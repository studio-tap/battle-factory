# Battle-Factory

## 1. プロジェクト概要

ポケットモンスターのエメラルドに登場するバトルファクトリーの攻略サイト。
レンタルできるポケモンの情報、対戦相手のトレーナーが出してくるポケモンの情報などを網羅し、プレイヤーがより高い連勝記録を達成するのをサポートする。

## 2. 目的

- バトルファクトリーの攻略情報を集約し、プレイヤーに提供する。
- プレイヤー同士の情報交換の場を提供する。

## 3. ターゲットユーザー

- ポケットモンスターエメラルドのバトルファトリーで高い連勝記録を目指すすべてのプレイヤー

## 4. 主な機能

- **ポケモン図鑑**: レンタル可能な全ポケモンの詳細情報（種族値、覚えている技、性格、持ち物など）を検索・閲覧できる。
- **トレーナー情報**: 対戦相手のトレーナーが出してくるポケモンの組み合わせを検索・閲覧できる。
- **戦略シミュレーター**: ポケモンの組み合わせを入力し、有利不利などをシミュレーションできる機能を設ける。
- **掲示板**: プレイヤー同士が情報交換や質問を行えるコミュニティ機能。

## 5. 技術スタック

- **フロントエンド**: Next.js (TypeScript)
- **バックエンド**: Next.js (API Routes)
- **データベース**: Vercel Postgres
- **ホスティング**: Vercel
- **アセット管理**: ソースコードに同梱（暫定）

## 6. デザイン

- シンプルで分かりやすいUI/UXを心がける。
- レスポンシブデザインに対応し、スマートフォンでも快適に閲覧できるようにする。

## 7. データベース設計（案）

初期段階として、以下のテーブルを想定する。各テーブルはリレーションで結ばれる。

### `pokemons` - ポケモンマスター
ポケモンの不変的な情報を格納する。

| カラム名 | 型 | 説明 | 例 |
| :--- | :--- | :--- | :--- |
| `id` | `SERIAL` | 主キー | `1` |
| `pokedex_id` | `INTEGER` | 全国図鑑No. | `25` |
| `name` | `VARCHAR(255)` | ポケモン名 | `ピカチュウ` |
| `base_stats` | `JSONB` | 種族値 (H,A,B,C,D,S) | `{"hp": 35, "attack": 55, ...}` |
| `type1_id` | `INTEGER` | タイプ1 (types.idへのFK) | `13` (でんき) |
| `type2_id` | `INTEGER` | タイプ2 (types.idへのFK) | `NULL` |

### `moves` - 技マスター
技の情報を格納する。

| カラム名 | 型 | 説明 | 例 |
| :--- | :--- | :--- | :--- |
| `id` | `SERIAL` | 主キー | `85` |
| `name` | `VARCHAR(255)` | 技名 | `１０まんボルト` |
| `type_id` | `INTEGER` | タイプ (types.idへのFK) | `13` (でんき) |
| `power` | `INTEGER` | 威力 | `95` |
| `accuracy` | `INTEGER` | 命中率 | `100` |
| `pp` | `INTEGER` | PP | `15` |
| `category` | `VARCHAR(50)` | 分類（物理/特殊/変化） | `特殊` |

### `rental_pokemon_sets` - レンタルポケモンセット
バトルファクトリーで実際にレンタルできるポケモンの個体情報を格納する。

| カラム名 | 型 | 説明 |
| :--- | :--- | :--- |
| `id` | `SERIAL` | 主キー |
| `pokemon_id` | `INTEGER` | ポケモンID (pokemons.idへのFK) |
| `set_group` | `VARCHAR(50)` | どの周回で登場するかなどのグループ |
| `nature_id` | `INTEGER` | 性格ID (natures.idへのFK) |
| `item_id` | `INTEGER` | 持ち物ID (items.idへのFK) |
| `moves` | `INTEGER[]` | 技IDの配列 (moves.idへのFK) |
| `effort_values` | `JSONB` | 努力値 |
